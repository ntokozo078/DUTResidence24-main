<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Residence24 - Dashboard</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Cardo:wght@400;700&family=Segoe+UI:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
    <style>
      body {
        font-family: "Segoe UI", sans-serif;
        background-color: #e3f2fd; /* Lighter blue background */
        color: #333;
        margin: 0;
        padding: 0;
        display: flex;
      }

      /* Sidebar Styles */
      .sidebar {
        width: 20%;
        background-color: #003c8f; /* Metallic blue */
        padding: 1rem;
        color: white;
        position: relative;
        z-index: 1000;
        height: 202.5vh; /* Full height sidebar */
      }

      .sidebar h3 {
        font-weight: 600;
        margin-bottom: 1rem;
      }

      .sidebar ul {
        list-style: none;
        padding: 0;
      }

      .sidebar ul li {
        margin: 1rem 0;
      }

      .sidebar ul li a {
        color: white;
        text-decoration: none;
        display: block;
        padding: 0.5rem;
        transition: background-color 0.3s;
      }

      .sidebar ul li a:hover {
        background-color: #0052cc;
      }

      /* Dashboard Container */
      .dashboard-container {
        width: 80%;
        margin: 2rem auto;
        background-color: #fff;
        border-radius: 0.5rem;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 2rem;
        position: relative;
      }

      /* Header and Icons */
      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
      }

      .search-container {
        display: flex;
        align-items: center;
        border: 1px solid #b3cde0;
        border-radius: 0.5rem;
        padding: 0.5rem;
        width: 40%;
      }

      .search-container input[type="text"] {
        border: none;
        outline: none;
        padding: 0.5rem;
        flex-grow: 1;
      }

      .message-icon,
      .notification-bell {
        margin-right: 1rem;
        width: 24px;
        height: 24px;
        transition: transform 0.3s;
      }

      .message-icon:hover,
      .notification-bell:hover {
        transform: scale(1.1);
      }

      .profile {
        text-align: center;
        margin-top: 1rem;
      }

      .profile img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        border: 2px solid #b3cde0;
      }

      .profile .name {
        font-size: 0.9rem;
        font-weight: 600;
      }

      .profile .student-number {
        font-size: 0.75rem;
        color: #757575;
      }

      /* Cards Section */
      .cards {
        display: flex;
        justify-content: space-between;
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .card {
        background-color: #1e88e5;
        color: #fff;
        padding: 1rem;
        border-radius: 0.5rem;
        text-align: center;
        width: 30%;
        cursor: pointer;
        transition: transform 0.3s;
      }

      .card:hover {
        transform: scale(1.05);
        background-color: #2196f3;
      }

      .card img {
        width: 100%;
        border-radius: 0.5rem;
      }

      .card h3 {
        margin-top: 0.5rem;
        text-decoration: none;
        color: white;
      }

      /* Latest News Section */
      .latest-news {
        margin-top: 2rem;
        padding: 1rem;
        border-radius: 0.5rem;
        overflow: hidden; /* Prevent overflow of slides */
        position: relative;
      }

      .news-slider {
        display: flex;
        transition: transform 0.5s ease;
      }

      .news-slide {
        min-width: 100%; /* Each slide takes the full width */
        box-sizing: border-box; /* Include padding in width */
        padding: 1rem;
        display: flex;
        flex-direction: column;
        align-items: center; /* Center content */
      }

      .news-slide img {
        width: 100%; /* Responsive image */
        border-radius: 0.5rem;
        max-height: 200px; /* Limit the height of images */
        object-fit: cover; /* Cover the area without stretching */
      }

      .news-slide h4 {
        margin: 0.5rem 0 0.5rem;
      }

      .news-slide p {
        text-align: center; /* Center text */
      }

      /* Logout Button */
      .logout-btn {
        background-color: #e53935;
        color: #fff;
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 0.3rem;
        cursor: pointer;
        font-weight: 600;
        position: absolute; /* Positioned within sidebar */
        bottom: 20px; /* Margin from bottom */
        left: 10px; /* Margin from left */
      }

      .logout-btn:hover {
        background-color: #d32f2f;
      }

      /* Footer */
      .footer {
        text-align: center;
        padding: 1rem;
        background-color: #003c8f;
        color: #fff;
        margin-top: 2rem;
      }
    </style>
  </head>

  <body>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <!-- Message Alert Section -->
    {% if messages %}
    <div
      class="messages"
      style="position: absolute; top: 64px; left: 50vw; z-index: 10000"
    >
      {% for message in messages %}
      <div
        class="alert alert-{{ message.tags }} alert-dismissible fade show"
        role="alert"
      >
        {{ message }}
        <button
          type="button"
          x
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      {% endfor %}
    </div>
    {% endif %}

    <!-- Sidebar -->
    <div class="sidebar">
      <h3>Student Dashboard</h3>
      <ul>
        <li><a href="#">Account Profile</a></li>
        <li><a href="#">Messages</a></li>
        <li><a href="#">Documents</a></li>
      </ul>
      <form method="POST" action="{% url 'student:logout' %}">
        {% csrf_token %}
        <button type="submit" class="logout-btn">Logout</button>
      </form>
    </div>

    <!-- Dashboard Container -->
    <div class="dashboard-container">
      <h2>Welcome back, {{ user.student_id }}!</h2>

      <!-- Cards Section -->
      <div class="cards">
        <div class="card">
          <a href="{% url 'student:residence_application' %}">
            <img
              src="https://images.ctfassets.net/tfvkuuj8nae0/3fu5Y3xAlXd1zp2w3koC0j/9a8bf7aabea7ac78c84316190fc9aaa7/pexels-vlada-karpovich-4939666.jpg?w=414&h=276&fl=progressive&q=90&fm=jpg"
              alt="Residence Application"
            />
            <h3>Apply for Residence</h3>
          </a>
        </div>
        <div class="card">
          <a href="{% url 'student:application_status' %}">
            <img
              src="https://tutored.live/wp-content/uploads/2023/06/5522-tutoring-image.png"
              alt="Application Status"
            />
            <h3>View Application Status</h3>
          </a>
        </div>
        <div class="card">
          <a href="{% url 'student:select_residence' %}">
            <img
              src="https://tutored.live/wp-content/uploads/2023/06/5522-tutoring-image.png"
              alt="Select Residence"
            />
            <h3>Select Residence</h3>
          </a>
        </div>
        <div class="card">
          <a href="{% url 'student:residence_details' %}">
            <img
              src="https://creativeaxis.co.za/wp-content/uploads/2021/08/2-1-2.jpg"
              alt="My Residence Allocation Details"
            />
            <h3>My Residence Details</h3>
          </a>
        </div>
      </div>

      <!-- Latest News Section -->
      <div class="latest-news">
        <h3>Latest News</h3>
        <div class="news-slider">
          <div class="news-slide active">
            <img
              src="https://c1.wallpaperflare.com/preview/176/10/323/application-online-macbook-request.jpg"
              alt="New Residence Image"
            />
            <h4>New Residence Application Process Starting Next Week</h4>
            <p>
              Be prepared for the new application process for residences that
              will start next week.
            </p>
          </div>
          <div class="news-slide">
            <img
              src="https://www.shutterstock.com/image-photo/two-specialists-inspect-commercial-industrial-600nw-1712804020.jpg"
              alt="Residence Maintenance"
            />
            <h4>Scheduled Maintenance for All Residences</h4>
            <p>
              Scheduled maintenance for all residences will take place on
              October 20.
            </p>
          </div>
          <div class="news-slide">
            <img
              src="https://www.ldevents.net/media/architecture-852924_1920.jpg"
            />
            <h4>New Residence Opening on Campus!</h4>
            <p>
              A new residence will be opening next semester. Stay tuned for more
              information!
            </p>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div class="footer">Residence24 © 2024 - All Rights Reserved</div>
    </div>

    <script>
      let currentIndex = 0; // Track the current slide index
      const slides = document.querySelectorAll(".news-slide");
      const totalSlides = slides.length;

      // Function to show the next slide
      function showNextSlide() {
        slides[currentIndex].classList.remove("active");
        currentIndex = (currentIndex + 1) % totalSlides; // Loop back to the first slide
        slides[currentIndex].classList.add("active");
        document.querySelector(".news-slider").style.transform = `translateX(-${
          currentIndex * 100
        }%)`;
      }

      // Start the automatic slide show every 5 seconds
      setInterval(showNextSlide, 5000);
    </script>
  </body>
</html>
